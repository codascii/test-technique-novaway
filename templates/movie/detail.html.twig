{% extends 'base.html.twig' %}

{% block title %}
    {{ movie.title }} - {{parent()}}
{% endblock %}

{% block body %}
    {% for message in app.flashes('success') %}
        <div class="flash-success">
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <span>{{ message|raw }}</span>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    {% endfor %}
    
    <h2>{{ movie.title }}</h2>
    <h3>{{ movie.director.displayName }} - {{ movie.price|number_format(2, ',', '.') }} €</h3>
    <p><strong>Format :</strong> {{ movie.media }}</p>
    <p><strong>ASIN :</strong> {{ movie.asin }}</p>
    <p><strong>Durée :</strong> {{ movie.duration }} minutes</p>
    <p><strong>Date de sortie :</strong> {{ movie.releaseDate|date('d/m/Y') }}</p>
    <p><strong>Casting :</strong></p>
    <ul>
        {% for actor in movie.cast %}
            <li>{{ actor.firstname }} {{ actor.lastname }}</li>
        {% endfor %}
    </ul>
    <p><strong>Résumé</strong></p>
    <p>{{ movie.summary }}</p>

    <a href="{{ path('movie_add_to_cart', { id : movie.id }) }}" class="btn btn-primary btn-lg">
        <i class="bi bi-cart-plus"></i>
        <span>Ajouter au panier</span>
    </a>
{% endblock %}
